Extra code which is used by the core library